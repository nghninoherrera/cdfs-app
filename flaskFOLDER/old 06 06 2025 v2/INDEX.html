<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CDSF Word Lookup</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.8.1/prop-types.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
  <div id="root"></div>
  <script type="text/babel">
    const App = () => {
      const [word, setWord] = React.useState('');
      const [result, setResult] = React.useState(null);
      const [error, setError] = React.useState('');
      const [loading, setLoading] = React.useState(false);

      const handleSubmit = async (e) => {
        e.preventDefault();
        setLoading(true);
        setError('');
        setResult(null);

        try {
          const response = await fetch('http://localhost:5000/lookup', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ word })
          });
          const data = await response.json();
          setResult(data);
        } catch (err) {
          setError('Error connecting to the server. Please ensure the backend is running.');
        } finally {
          setLoading(false);
        }
      };

      return (
      
        <div className="container mx-auto p-6 max-w-4xl">
<div className="flex items-center space-x-4 bg-blue-900 px-4 py-2 rounded mb-6">
  <img src="NEUST.webp" className="w-12 h-12 object-contain" />
  <div className="flex flex-col">

    <h2 className="text-2xl font-bold text-yellow-100">Nueva Ecija University of Science and Technology</h2>
    <p className="text-yellow-100 text-sm">Cabanatuan City</p>
  </div>
</div>
          <h2 className="text-center text-1xl font-bold text-green-800 mb-6">Research Project of: College of Education and the College of Information and Communications Technology</h2>
          <br></br>
          <br></br>
          <h1 className="text-center text-3xl font-bold text-red-800 mb-6">CDSF (CONTEXTUAL DIACHRONIC SEMANTIC FRAMEWORK ) Word Lookup</h1>
          <div className="bg-white p-6 rounded-lg shadow-md mb-6">
            <form onSubmit={handleSubmit} className="flex flex-col gap-4">
              <label htmlFor="word-input" className="text-lg font-semibold text-gray-700">
                Enter a Word
              </label>
              <input
                id="word-input"
                type="text"
                value={word}
                onChange={(e) => setWord(e.target.value)}
                placeholder="e.g., salvage, grace"
                className="p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <button
                type="submit"
                disabled={loading}
                className="bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700 disabled:bg-gray-400"
              >
                {loading ? 'Searching...' : 'Search'}
              </button>
            </form>
          </div>

          {error && (
            <div className="bg-red-100 p-4 rounded-md text-red-700 mb-6">
              {error}
            </div>
          )}

          {result && (
            <div className="bg-white p-6 rounded-lg shadow-md">
              {result.found ? (
                <div>
                  <h2 className="text-2xl font-semibold text-blue-600 mb-4">CDSF Analysis for "{word}"</h2>
                  <table className="w-full border-collapse">
                    <thead>
                      <tr className="bg-blue-100">
                        <th className="border p-2 text-left">CDSF Layer</th>
                        <th className="border p-2 text-left">Details</th>
                      </tr>
                    </thead>
                    <tbody>
                      {Object.entries(result.data).map(([layer, details]) => (
                        <tr key={layer} className="border-b">
                          <td className="border p-2 font-medium">{layer}</td>
                          <td className="border p-2">{details}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              ) : (
                <p className="text-gray-700">{result.message}</p>
              )}
            </div>
          )}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>